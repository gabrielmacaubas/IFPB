<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>

    <h1>Adress</h1>
    <form id="form">
        <input type="text" id="cep" placeholder="Cep"><br>
        <input type="text" id="rua" placeholder="Rua"><br>
        <input type="text" id="numero" placeholder="NÃºmero"><br>
        <input type="text" id="bairro" placeholder="Bairro"><br>
        <input type="text" id="estado" placeholder="Estado"><br>
        <input type="text" id="cidade" placeholder="Cidade"><br>
    </form>

    <script>
        const cepInput = document.getElementById('cep');
        const rua = document.getElementById('rua');
        const numero = document.getElementById('numero');
        const bairro = document.getElementById('bairro');
        const estado = document.getElementById('estado');
        const cidade = document.getElementById('cidade');

        async function getCEP(cep) {
            const url = `https://viacep.com.br/ws/${cep}/json/`;

            const result = await (await fetch(url)).json();

            return result;
        }
        
        async function main() {
            const cep = await getCEP(cepInput.value);
            
            rua.value = await cep.logradouro
            numero.value = await cep.complemento
            bairro.value = await cep.bairro
            estado.value = await cep.uf
            cidade.value = await cep.localidade

        }
        
        cepInput.addEventListener("keypress", function(e) {
            if (e.key === "Enter") {
                e.preventDefault();

                main();
            }
        });

    </script>
</body>
</html>